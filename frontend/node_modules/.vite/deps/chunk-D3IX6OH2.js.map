{
  "version": 3,
  "sources": ["../../refractor/lang/ftl.js"],
  "sourcesContent": ["'use strict'\r\nvar refractorMarkupTemplating = require('./markup-templating.js')\r\nmodule.exports = ftl\r\nftl.displayName = 'ftl'\r\nftl.aliases = []\r\nfunction ftl(Prism) {\r\n  Prism.register(refractorMarkupTemplating)\r\n  ;(function (Prism) {\r\n    // https://freemarker.apache.org/docs/dgui_template_exp.html\r\n    // FTL expression with 4 levels of nesting supported\r\n    var FTL_EXPR =\r\n      /[^<()\"']|\\((?:<expr>)*\\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|\"(?:[^\\\\\"]|\\\\.)*\"|'(?:[^\\\\']|\\\\.)*'/\r\n        .source\r\n    for (var i = 0; i < 2; i++) {\r\n      FTL_EXPR = FTL_EXPR.replace(/<expr>/g, function () {\r\n        return FTL_EXPR\r\n      })\r\n    }\r\n    FTL_EXPR = FTL_EXPR.replace(/<expr>/g, /[^\\s\\S]/.source)\r\n    var ftl = {\r\n      comment: /<#--[\\s\\S]*?-->/,\r\n      string: [\r\n        {\r\n          // raw string\r\n          pattern: /\\br(\"|')(?:(?!\\1)[^\\\\]|\\\\.)*\\1/,\r\n          greedy: true\r\n        },\r\n        {\r\n          pattern: RegExp(\r\n            /(\"|')(?:(?!\\1|\\$\\{)[^\\\\]|\\\\.|\\$\\{(?:(?!\\})(?:<expr>))*\\})*\\1/.source.replace(\r\n              /<expr>/g,\r\n              function () {\r\n                return FTL_EXPR\r\n              }\r\n            )\r\n          ),\r\n          greedy: true,\r\n          inside: {\r\n            interpolation: {\r\n              pattern: RegExp(\r\n                /((?:^|[^\\\\])(?:\\\\\\\\)*)\\$\\{(?:(?!\\})(?:<expr>))*\\}/.source.replace(\r\n                  /<expr>/g,\r\n                  function () {\r\n                    return FTL_EXPR\r\n                  }\r\n                )\r\n              ),\r\n              lookbehind: true,\r\n              inside: {\r\n                'interpolation-punctuation': {\r\n                  pattern: /^\\$\\{|\\}$/,\r\n                  alias: 'punctuation'\r\n                },\r\n                rest: null\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      keyword: /\\b(?:as)\\b/,\r\n      boolean: /\\b(?:false|true)\\b/,\r\n      'builtin-function': {\r\n        pattern: /((?:^|[^?])\\?\\s*)\\w+/,\r\n        lookbehind: true,\r\n        alias: 'function'\r\n      },\r\n      function: /\\b\\w+(?=\\s*\\()/,\r\n      number: /\\b\\d+(?:\\.\\d+)?\\b/,\r\n      operator:\r\n        /\\.\\.[<*!]?|->|--|\\+\\+|&&|\\|\\||\\?{1,2}|[-+*/%!=<>]=?|\\b(?:gt|gte|lt|lte)\\b/,\r\n      punctuation: /[,;.:()[\\]{}]/\r\n    }\r\n    ftl.string[1].inside.interpolation.inside.rest = ftl\r\n    Prism.languages.ftl = {\r\n      'ftl-comment': {\r\n        // the pattern is shortened to be more efficient\r\n        pattern: /^<#--[\\s\\S]*/,\r\n        alias: 'comment'\r\n      },\r\n      'ftl-directive': {\r\n        pattern: /^<[\\s\\S]+>$/,\r\n        inside: {\r\n          directive: {\r\n            pattern: /(^<\\/?)[#@][a-z]\\w*/i,\r\n            lookbehind: true,\r\n            alias: 'keyword'\r\n          },\r\n          punctuation: /^<\\/?|\\/?>$/,\r\n          content: {\r\n            pattern: /\\s*\\S[\\s\\S]*/,\r\n            alias: 'ftl',\r\n            inside: ftl\r\n          }\r\n        }\r\n      },\r\n      'ftl-interpolation': {\r\n        pattern: /^\\$\\{[\\s\\S]*\\}$/,\r\n        inside: {\r\n          punctuation: /^\\$\\{|\\}$/,\r\n          content: {\r\n            pattern: /\\s*\\S[\\s\\S]*/,\r\n            alias: 'ftl',\r\n            inside: ftl\r\n          }\r\n        }\r\n      }\r\n    }\r\n    Prism.hooks.add('before-tokenize', function (env) {\r\n      // eslint-disable-next-line regexp/no-useless-lazy\r\n      var pattern = RegExp(\r\n        /<#--[\\s\\S]*?-->|<\\/?[#@][a-zA-Z](?:<expr>)*?>|\\$\\{(?:<expr>)*?\\}/.source.replace(\r\n          /<expr>/g,\r\n          function () {\r\n            return FTL_EXPR\r\n          }\r\n        ),\r\n        'gi'\r\n      )\r\n      Prism.languages['markup-templating'].buildPlaceholders(\r\n        env,\r\n        'ftl',\r\n        pattern\r\n      )\r\n    })\r\n    Prism.hooks.add('after-tokenize', function (env) {\r\n      Prism.languages['markup-templating'].tokenizePlaceholders(env, 'ftl')\r\n    })\r\n  })(Prism)\r\n}\r\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AACA,QAAI,4BAA4B;AAChC,WAAO,UAAU;AACjB,QAAI,cAAc;AAClB,QAAI,UAAU,CAAC;AACf,aAAS,IAAI,OAAO;AAClB,YAAM,SAAS,yBAAyB;AACvC,OAAC,SAAUA,QAAO;AAGjB,YAAI,WACF,iGACG;AACL,iBAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,qBAAW,SAAS,QAAQ,WAAW,WAAY;AACjD,mBAAO;AAAA,UACT,CAAC;AAAA,QACH;AACA,mBAAW,SAAS,QAAQ,WAAW,UAAU,MAAM;AACvD,YAAIC,OAAM;AAAA,UACR,SAAS;AAAA,UACT,QAAQ;AAAA,YACN;AAAA;AAAA,cAEE,SAAS;AAAA,cACT,QAAQ;AAAA,YACV;AAAA,YACA;AAAA,cACE,SAAS;AAAA,gBACP,+DAA+D,OAAO;AAAA,kBACpE;AAAA,kBACA,WAAY;AACV,2BAAO;AAAA,kBACT;AAAA,gBACF;AAAA,cACF;AAAA,cACA,QAAQ;AAAA,cACR,QAAQ;AAAA,gBACN,eAAe;AAAA,kBACb,SAAS;AAAA,oBACP,oDAAoD,OAAO;AAAA,sBACzD;AAAA,sBACA,WAAY;AACV,+BAAO;AAAA,sBACT;AAAA,oBACF;AAAA,kBACF;AAAA,kBACA,YAAY;AAAA,kBACZ,QAAQ;AAAA,oBACN,6BAA6B;AAAA,sBAC3B,SAAS;AAAA,sBACT,OAAO;AAAA,oBACT;AAAA,oBACA,MAAM;AAAA,kBACR;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,UACA,SAAS;AAAA,UACT,SAAS;AAAA,UACT,oBAAoB;AAAA,YAClB,SAAS;AAAA,YACT,YAAY;AAAA,YACZ,OAAO;AAAA,UACT;AAAA,UACA,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,UACE;AAAA,UACF,aAAa;AAAA,QACf;AACA,QAAAA,KAAI,OAAO,CAAC,EAAE,OAAO,cAAc,OAAO,OAAOA;AACjD,QAAAD,OAAM,UAAU,MAAM;AAAA,UACpB,eAAe;AAAA;AAAA,YAEb,SAAS;AAAA,YACT,OAAO;AAAA,UACT;AAAA,UACA,iBAAiB;AAAA,YACf,SAAS;AAAA,YACT,QAAQ;AAAA,cACN,WAAW;AAAA,gBACT,SAAS;AAAA,gBACT,YAAY;AAAA,gBACZ,OAAO;AAAA,cACT;AAAA,cACA,aAAa;AAAA,cACb,SAAS;AAAA,gBACP,SAAS;AAAA,gBACT,OAAO;AAAA,gBACP,QAAQC;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,UACA,qBAAqB;AAAA,YACnB,SAAS;AAAA,YACT,QAAQ;AAAA,cACN,aAAa;AAAA,cACb,SAAS;AAAA,gBACP,SAAS;AAAA,gBACT,OAAO;AAAA,gBACP,QAAQA;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AACA,QAAAD,OAAM,MAAM,IAAI,mBAAmB,SAAU,KAAK;AAEhD,cAAI,UAAU;AAAA,YACZ,mEAAmE,OAAO;AAAA,cACxE;AAAA,cACA,WAAY;AACV,uBAAO;AAAA,cACT;AAAA,YACF;AAAA,YACA;AAAA,UACF;AACA,UAAAA,OAAM,UAAU,mBAAmB,EAAE;AAAA,YACnC;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,QACF,CAAC;AACD,QAAAA,OAAM,MAAM,IAAI,kBAAkB,SAAU,KAAK;AAC/C,UAAAA,OAAM,UAAU,mBAAmB,EAAE,qBAAqB,KAAK,KAAK;AAAA,QACtE,CAAC;AAAA,MACH,GAAG,KAAK;AAAA,IACV;AAAA;AAAA;",
  "names": ["Prism", "ftl"]
}
