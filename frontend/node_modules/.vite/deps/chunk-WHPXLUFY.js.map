{
  "version": 3,
  "sources": ["../../refractor/lang/smarty.js"],
  "sourcesContent": ["'use strict'\r\nvar refractorMarkupTemplating = require('./markup-templating.js')\r\nmodule.exports = smarty\r\nsmarty.displayName = 'smarty'\r\nsmarty.aliases = []\r\nfunction smarty(Prism) {\r\n  Prism.register(refractorMarkupTemplating)\r\n  ;(function (Prism) {\r\n    Prism.languages.smarty = {\r\n      comment: {\r\n        pattern: /^\\{\\*[\\s\\S]*?\\*\\}/,\r\n        greedy: true\r\n      },\r\n      'embedded-php': {\r\n        pattern: /^\\{php\\}[\\s\\S]*?\\{\\/php\\}/,\r\n        greedy: true,\r\n        inside: {\r\n          smarty: {\r\n            pattern: /^\\{php\\}|\\{\\/php\\}$/,\r\n            inside: null // see below\r\n          },\r\n          php: {\r\n            pattern: /[\\s\\S]+/,\r\n            alias: 'language-php',\r\n            inside: Prism.languages.php\r\n          }\r\n        }\r\n      },\r\n      string: [\r\n        {\r\n          pattern: /\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\r\n          greedy: true,\r\n          inside: {\r\n            interpolation: {\r\n              pattern: /\\{[^{}]*\\}|`[^`]*`/,\r\n              inside: {\r\n                'interpolation-punctuation': {\r\n                  pattern: /^[{`]|[`}]$/,\r\n                  alias: 'punctuation'\r\n                },\r\n                expression: {\r\n                  pattern: /[\\s\\S]+/,\r\n                  inside: null // see below\r\n                }\r\n              }\r\n            },\r\n            variable: /\\$\\w+/\r\n          }\r\n        },\r\n        {\r\n          pattern: /'(?:\\\\.|[^'\\\\\\r\\n])*'/,\r\n          greedy: true\r\n        }\r\n      ],\r\n      keyword: {\r\n        pattern: /(^\\{\\/?)[a-z_]\\w*\\b(?!\\()/i,\r\n        lookbehind: true,\r\n        greedy: true\r\n      },\r\n      delimiter: {\r\n        pattern: /^\\{\\/?|\\}$/,\r\n        greedy: true,\r\n        alias: 'punctuation'\r\n      },\r\n      number: /\\b0x[\\dA-Fa-f]+|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee][-+]?\\d+)?/,\r\n      variable: [\r\n        /\\$(?!\\d)\\w+/,\r\n        /#(?!\\d)\\w+#/,\r\n        {\r\n          pattern: /(\\.|->|\\w\\s*=)(?!\\d)\\w+\\b(?!\\()/,\r\n          lookbehind: true\r\n        },\r\n        {\r\n          pattern: /(\\[)(?!\\d)\\w+(?=\\])/,\r\n          lookbehind: true\r\n        }\r\n      ],\r\n      function: {\r\n        pattern: /(\\|\\s*)@?[a-z_]\\w*|\\b[a-z_]\\w*(?=\\()/i,\r\n        lookbehind: true\r\n      },\r\n      'attr-name': /\\b[a-z_]\\w*(?=\\s*=)/i,\r\n      boolean: /\\b(?:false|no|off|on|true|yes)\\b/,\r\n      punctuation: /[\\[\\](){}.,:`]|->/,\r\n      operator: [\r\n        /[+\\-*\\/%]|==?=?|[!<>]=?|&&|\\|\\|?/,\r\n        /\\bis\\s+(?:not\\s+)?(?:div|even|odd)(?:\\s+by)?\\b/,\r\n        /\\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\\b/\r\n      ]\r\n    }\r\n    Prism.languages.smarty['embedded-php'].inside.smarty.inside =\r\n      Prism.languages.smarty\r\n    Prism.languages.smarty.string[0].inside.interpolation.inside.expression.inside =\r\n      Prism.languages.smarty\r\n    var string = /\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|'(?:\\\\.|[^'\\\\\\r\\n])*'/\r\n    var smartyPattern = RegExp(\r\n      // comments\r\n      /\\{\\*[\\s\\S]*?\\*\\}/.source +\r\n        '|' + // php tags\r\n        /\\{php\\}[\\s\\S]*?\\{\\/php\\}/.source +\r\n        '|' + // smarty blocks\r\n        /\\{(?:[^{}\"']|<str>|\\{(?:[^{}\"']|<str>|\\{(?:[^{}\"']|<str>)*\\})*\\})*\\}/.source.replace(\r\n          /<str>/g,\r\n          function () {\r\n            return string.source\r\n          }\r\n        ),\r\n      'g'\r\n    ) // Tokenize all inline Smarty expressions\r\n    Prism.hooks.add('before-tokenize', function (env) {\r\n      var smartyLiteralStart = '{literal}'\r\n      var smartyLiteralEnd = '{/literal}'\r\n      var smartyLiteralMode = false\r\n      Prism.languages['markup-templating'].buildPlaceholders(\r\n        env,\r\n        'smarty',\r\n        smartyPattern,\r\n        function (match) {\r\n          // Smarty tags inside {literal} block are ignored\r\n          if (match === smartyLiteralEnd) {\r\n            smartyLiteralMode = false\r\n          }\r\n          if (!smartyLiteralMode) {\r\n            if (match === smartyLiteralStart) {\r\n              smartyLiteralMode = true\r\n            }\r\n            return true\r\n          }\r\n          return false\r\n        }\r\n      )\r\n    }) // Re-insert the tokens after tokenizing\r\n    Prism.hooks.add('after-tokenize', function (env) {\r\n      Prism.languages['markup-templating'].tokenizePlaceholders(env, 'smarty')\r\n    })\r\n  })(Prism)\r\n}\r\n"],
  "mappings": "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",
  "names": ["Prism"]
}
